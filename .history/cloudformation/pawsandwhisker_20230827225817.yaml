AWSTemplateFormatVersion: '2010-09-09'
Description: CloudFormation Template to create a VPC, Subnets, and EC2 instance

Resources:
  MyVPC:
    Type: AWS::EC2::VPC
    Properties:
      CidrBlock: 10.0.0.0/16
      EnableDnsSupport: true
      EnableDnsHostnames: true
      Tags:
        - Key: Name
          Value: pawsandwhiskers

  PublicSubnet1:
    Type: AWS::EC2::Subnet
    Properties:
      VpcId: !Ref pawsandwhiskers
      CidrBlock: 10.0.0.0/24
      AvailabilityZone: us-east-2a
      MapPublicIpOnLaunch: true
      Tags:
        - Key: Name
          Value: PublicSubnet1

  EC2Instance:
    Type: AWS::EC2::Instance
    Properties:
      InstanceType: t2.micro
      KeyName: pawsandwhiskersKeyPair
      ImageId: ami-0773d5f16c0189a6c # Replace with your desired AMI ID
      SubnetId: !Ref PublicSubnet1
      UserData:
        Fn::Base64: !Sub |
          #!/bin/bash
          echo "Hello from UserData script!"
          apt-get update
          apt-get install -y git
          git clone https://github.com/your/repo.git
          cd repo
          chmod +x deploy.sh
          ./deploy.sh
